<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hardware Expert - Turbo</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #1a73e8;
            --primary-dark: #1557b0;
            --bg: #f0f4ff;
            --card: #ffffff;
            --text: #2d3748;
            --success: #e8f5e8;
            --warning: #ffebee;
            --border: #e2e8f0;
            --danger: #c62828;
            --radius: 14px;
            --shadow: 0 8px 24px rgba(0,0,0,0.1);
        }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #f0f4ff 0%, #e6f0ff 100%);
            color: var(--text);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1100px;
            margin: 0 auto;
            background: var(--card);
            padding: 40px;
            border-radius: var(--radius);
            box-shadow: var(--shadow);
        }
        h1 {
            font-size: 2.8rem;
            text-align: center;
            background: linear-gradient(90deg, var(--primary), #0d47a1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 8px;
        }
        .subtitle {
            text-align: center;
            color: #4a5568;
            margin-bottom: 30px;
            font-size: 1.1rem;
        }
        form {
            background: #f8f9fc;
            padding: 25px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
            margin-bottom: 25px;
        }
        label {
            display: block;
            margin: 12px 0 6px;
            font-weight: 600;
        }
        input, textarea {
            width: 100%;
            padding: 12px 14px;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            font-size: 1rem;
            transition: all 0.15s;
        }
        input:focus, textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(26,115,232,0.15);
        }
        textarea { height: 100px; resize: vertical; }
        button {
            margin-top: 16px;
            padding: 12px 28px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 6px;
            transition: all 0.15s;
        }
        button:hover {
            background: var(--primary-dark);
            transform: translateY(-1px);
        }
        .response, .aviso {
            margin-top: 25px;
            padding: 25px;
            border-radius: var(--radius);
            animation: fadeIn 0.3s ease-out;
            line-height: 1.7;
        }
        .response {
            background: var(--success);
            border-left: 6px solid #2e7d32;
        }
        .aviso {
            background: var(--warning);
            border-left: 6px solid var(--danger);
            color: var(--danger);
            font-weight: 600;
        }
        .response h3 {
            color: var(--primary);
            margin: 16px 0 8px;
            font-size: 1.4rem;
            border-bottom: 2px solid rgba(26,115,232,0.2);
            padding-bottom: 6px;
        }
        .explicacao {
            background: #f8f9fc;
            padding: 16px;
            border-radius: 10px;
            margin: 16px 0;
            border-left: 4px solid var(--primary);
            font-size: 0.95rem;
            color: #2d3748;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 16px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0,0,0,0.08);
        }
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        th {
            background: rgba(26,115,232,0.1);
            color: var(--primary);
            font-weight: 600;
        }
        .chip {
            display: inline-block;
            padding: 5px 10px;
            background: rgba(26,115,232,0.15);
            color: var(--primary);
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 600;
            margin: 3px 5px 3px 0;
        }
        .exemplo {
            background: #f1f3f4;
            padding: 14px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 12px 0;
            border-left: 4px solid #666;
            font-size: 0.95rem;
        }
        .conclusao {
            background: linear-gradient(135deg, rgba(26,115,232,0.1), rgba(26,115,232,0.05));
            padding: 16px;
            border-radius: 10px;
            border-left: 5px solid var(--primary);
            font-weight: 600;
            color: var(--primary);
            margin: 16px 0;
        }
        .loading {
            text-align: center;
            padding: 30px;
            color: #4a5568;
            display: none;
        }
        .spinner {
            width: 32px;
            height: 32px;
            border: 3px solid #e2e8f0;
            border-top: 3px solid var(--primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 10px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .suggestion {
            display: inline-block;
            margin: 5px;
            padding: 8px 16px;
            background: white;
            border: 1px solid var(--border);
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.88rem;
            transition: all 0.15s;
        }
        .suggestion:hover {
            background: var(--primary);
            color: white;
            border-color: var(--primary);
        }
        .suggestions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 10px;
            margin-top: 20px;
        }
        footer {
            text-align: center;
            margin-top: 40px;
            color: #718096;
            font-size: 0.85rem;
        }
    </style>
</head>
<body>
<div class="container">
    <h1>Hardware Expert</h1>
    <p class="subtitle">Respostas instantâneas. +30 perguntas explicadas. Respeito sempre.</p>
    <form id="form">
        <label>Área:</label>
        <input type="text" id="tipo" placeholder="Ex: CPU, GPU, RAM, SSD..." required>
        <label>Pergunta:</label>
        <textarea id="pergunta" placeholder="Ex: O que é overclock? Intel ou AMD? SSD ou HDD?" required></textarea>
        <button type="submit">
            <span class="material-icons">memory</span> Perguntar
        </button>
    </form>
    <div id="loading" class="loading">
        <div class="spinner"></div>
        <p>Processando...</p>
    </div>
    <div id="aviso" class="aviso" style="display:none;"></div>
    <div id="resposta" class="response" style="display:none;"></div>

    <!-- 30+ Perguntas Rápidas -->
    <div style="margin-top: 30px; padding: 20px; background: #f8f9fc; border-radius: 12px;">
        <strong>Perguntas rápidas (30+):</strong>
        <div class="suggestions-grid" id="suggestions"></div>
    </div>
    <footer>Hardware Expert Turbo © 2025 – Respostas em &lt; 80ms</footer>
</div>

<script>
/* ===== FILTRO DE OFENSAS ===== */
const OFENSAS = /\b(porra|caralho|f[oó]d[aeo]|puta|merda|cu|buceta|pau|piroca|viado|bicha|traveco|sapatão|arrombado|filho da puta|vagabundo|idiota|burro|retardado|mongol|deficiente|aleijado|macaco|preto|branco|judeu|árabe|muçulmano|cristão|negro|lixo|escória|nojo|verme|sujo|podre|ridículo|patético|imbecil|estúpido|babaca|otário|palhaço|corno|corninho|fdp|fds|fdm)\b/i;

/* ===== RESPOSTAS COM EXPLICAÇÃO + RESPOSTA RÁPIDA ===== */
const RESPOSTAS = {
    overclock_def: `
        <h3>O que é overclock?</h3>
        <div class="explicacao">
            <p><strong>Por que perguntam?</strong> Muitos querem mais FPS ou performance sem gastar em peça nova. Overclock é "forçar" o processador ou GPU a rodar acima da frequência de fábrica.</p>
            <p><strong>O que envolve?</strong> Ajuste de clock, voltagem e resfriamento. Pode dar 10-30% de ganho, mas com riscos.</p>
        </div>
        <p><strong>Resposta direta:</strong> Aumentar frequência do CPU/GPU além do padrão. Ganha performance, perde estabilidade e garantia.</p>
        <div class="chip">Risco</div><div class="chip">Temperatura</div><div class="chip">Voltagem</div>
        <div class="conclusao">Só com bom cooler e conhecimento.</div>
    `,
    intel_amd: `
        <h3>Intel ou AMD?</h3>
        <div class="explicacao">
            <p><strong>Contexto:</strong> A maior dúvida na hora de montar PC. Intel dominou por anos, AMD voltou forte com Ryzen.</p>
            <p><strong>Fatores:</strong> Jogos (single-core), multitarefa, preço, consumo e plataforma futura.</p>
        </div>
        <table><tr><th></th><th>Intel</th><th>AMD</th></tr>
        <tr><td>Single-core</td><td>Melhor</td><td>Ótimo</td></tr>
        <tr><td>Preço/Perf</td><td>Caro</td><td>Excelente</td></tr>
        <tr><td>Consumo</td><td>Alto</td><td>Eficiente</td></tr></table>
        <div class="conclusao">AMD domina custo-benefício 2025.</div>
    `,
    i5_ryzen5: `
        <h3>i5 ou Ryzen 5?</h3>
        <div class="explicacao">
            <p><strong>Classe média:</strong> i5 e Ryzen 5 são os mais vendidos. Usuários querem saber qual dá mais FPS por real.</p>
        </div>
        <table><tr><th></th><th>i5</th><th>Ryzen 5</th></tr>
        <tr><td>Cores</td><td>6-14</td><td>6-16</td></tr>
        <tr><td>Games</td><td>Excelente</td><td>Ótimo</td></tr>
        <tr><td>Preço</td><td>Médio</td><td>Barato</td></tr></table>
        <div class="conclusao">Ryzen 5 7600X é imbatível.</div>
    `,
    cache_l3: `
        <h3>Cache L3 importa?</h3>
        <div class="explicacao">
            <p><strong>O que é?</strong> Memória ultrarrápida dentro do CPU. Reduz tempo de espera entre CPU e RAM.</p>
            <p><strong>Em jogos:</strong> Mais cache = menos stutter, mais FPS em CPU-bound.</p>
        </div>
        <p>Crucial em games e multitarefa.</p>
        <div class="conclusao">Sim, Ryzen 3D V-Cache é rei em jogos.</div>
    `,
    nvidia_amd: `
        <h3>NVIDIA ou AMD?</h3>
        <div class="explicacao">
            <p><strong>Placas de vídeo:</strong> NVIDIA tem DLSS e RT. AMD tem FSR e preço agressivo.</p>
        </div>
        <table><tr><th></th><th>NVIDIA</th><th>AMD</th></tr>
        <tr><td>Ray Tracing</td><td>Superior</td><td>Bom</td></tr>
        <tr><td>Drivers</td><td>Estáveis</td><td>Melhorando</td></tr>
        <tr><td>Preço</td><td>Caro</td><td>Barato</td></tr></table>
        <div class="conclusao">NVIDIA para RT/DLSS. AMD para valor.</div>
    `,
    rtx_rx: `
        <h3>RTX ou RX?</h3>
        <div class="explicacao">
            <p><strong>Nomenclatura:</strong> RTX = NVIDIA com RT/DLSS. RX = AMD com FSR.</p>
        </div>
        <p>RTX = DLSS + RT. RX = FSR + preço.</p>
        <div class="conclusao">RTX 4070 > RX 7800 XT em RT.</div>
    `,
    ray_tracing: `
        <h3>Ray Tracing vale?</h3>
        <div class="explicacao">
            <p><strong>Efeito visual:</strong> Luz, reflexos e sombras realistas. Consome muito FPS.</p>
            <p><strong>Hoje:</strong> DLSS/FSR tornam viável em 1440p.</p>
        </div>
        <p>Efeitos realistas de luz. Consome FPS. DLSS/FSR ajudam.</p>
        <div class="conclusao">Sim em 1440p+ com upscaling.</div>
    `,
    ddr4_ddr5: `
        <h3>DDR4 ou DDR5?</h3>
        <div class="explicacao">
            <p><strong>Transição:</strong> DDR5 é o futuro, mas DDR4 ainda reina em custo.</p>
        </div>
        <table><tr><th></th><th>DDR4</th><th>DDR5</th></tr>
        <tr><td>Velocidade</td><td>3200 MHz</td><td>6000+ MHz</td></tr>
        <tr><td>Preço</td><td>Barato</td><td>Caro</td></tr>
        <tr><td>Compatibilidade</td><td>Antiga</td><td>AM5/LGA1700</td></tr></table>
        <div class="conclusao">DDR5 só se plataforma nova.</div>
    `,
    ram_16_32: `
        <h3>16GB ou 32GB?</h3>
        <div class="explicacao">
            <p><strong>Uso atual:</strong> Jogos modernos (Cyberpunk, Starfield) pedem 16GB+. Edição pede mais.</p>
        </div>
        <p>16GB = suficiente games. 32GB = edição, VMs, futuro.</p>
        <div class="conclusao">32GB é padrão 2025.</div>
    `,
    dual_channel: `
        <h3>Dual channel?</h3>
        <div class="explicacao">
            <p><strong>Desempenho:</strong> 2 pentes de RAM = dobro de largura de banda. Crucial em APU e jogos.</p>
        </div>
        <p>2 pentes = dobro de banda. Essencial.</p>
        <div class="exemplo">2x8GB > 1x16GB</div>
        <div class="conclusao">Sempre use dual.</div>
    `,
    ssd_hdd: `
        <h3>SSD ou HDD?</h3>
        <div class="explicacao">
            <p><strong>Velocidade x Capacidade:</strong> SSD é 30x mais rápido. HDD é 10x mais barato por GB.</p>
        </div>
        <table><tr><th></th><th>SSD</th><th>HDD</th></tr>
        <tr><td>Velocidade</td><td>5000 MB/s</td><td>150 MB/s</td></tr>
        <tr><td>Preço/GB</td><td>Caro</td><td>Barato</td></tr></table>
        <div class="conclusao">SSD para OS. HDD para arquivos.</div>
    `,
    nvme_sata: `
        <h3>NVMe ou SATA?</h3>
        <div class="explicacao">
            <p><strong>Tecnologia:</strong> NVMe usa PCIe (como GPU). SATA é antigo.</p>
        </div>
        <p>NVMe = PCIe (5000 MB/s). SATA = 550 MB/s.</p>
        <div class="conclusao">NVMe para tudo em 2025.</div>
    `,
    b550_z790: `
        <h3>B550 ou Z790?</h3>
        <div class="explicacao">
            <p><strong>Placas-mãe:</strong> B550 = AMD barata. Z790 = Intel topo com overclock.</p>
        </div>
        <p>B550 = AMD barata. Z790 = Intel topo.</p>
        <div class="conclusao">B550 para Ryzen 7000.</div>
    `,
    mini_atx: `
        <h3>Mini-ITX ou ATX?</h3>
        <div class="explicacao">
            <p><strong>Tamanho x Expansão:</strong> Mini-ITX é compacto. ATX permite mais slots.</p>
        </div>
        <table><tr><th></th><th>Mini-ITX</th><th>ATX</th></tr>
        <tr><td>Tamanho</td><td>Pequeno</td><td>Grande</td></tr>
        <tr><td>Expansão</td><td>Limitada</td><td>Completa</td></tr></table>
        <div class="conclusao">ATX para upgrades.</div>
    `,
    fonte_650_850: `
        <h3>650W ou 850W?</h3>
        <div class="explicacao">
            <p><strong>Consumo:</strong> RTX 4070 pede 650W. RTX 4090 pede 850W+.</p>
        </div>
        <p>650W = RTX 4070. 850W = RTX 4090.</p>
        <div class="conclusao">850W Gold para futuro.</div>
    `,
    gold_vale: `
        <h3>80+ Gold vale?</h3>
        <div class="explicacao">
            <p><strong>Eficiência:</strong> Gold = 90%+ de eficiência. Menos calor, conta de luz menor.</p>
        </div>
        <p>Eficiência 90%+. Menos calor, conta menor.</p>
        <div class="conclusao">Vale a partir de 650W.</div>
    `,
    airflow_rgb: `
        <h3>Airflow ou RGB?</h3>
        <div class="explicacao">
            <p><strong>Prioridade:</strong> Temperatura afeta vida útil. RGB é só visual.</p>
        </div>
        <p>Airflow = temperaturas baixas. RGB = estética.</p>
        <div class="conclusao">Priorize airflow.</div>
    `,
    water_air: `
        <h3>Water Cooler ou Air?</h3>
        <div class="explicacao">
            <p><strong>Resfriamento:</strong> Water é mais silencioso. Air é mais confiável e barato.</p>
        </div>
        <table><tr><th></th><th>Water</th><th>Air</th></tr>
        <tr><td>Silêncio</td><td>Melhor</td><td>Bom</td></tr>
        <tr><td>Preço</td><td>Caro</td><td>Barato</td></tr></table>
        <div class="conclusao">Air (Noctua) para 95% dos casos.</div>
    `,
    monitor_144hz: `
        <h3>Monitor 144Hz?</h3>
        <div class="explicacao">
            <p><strong>Fluidez:</strong> 144Hz = 2.4x mais quadros que 60Hz. Essencial em jogos competitivos.</p>
        </div>
        <p>Fluidez em jogos. 60Hz = básico. 144Hz = padrão gamer.</p>
        <div class="conclusao">Sim, essencial para FPS.</div>
    `,
    teclado_mecanico: `
        <h3>Teclado mecânico?</h3>
        <div class="explicacao">
            <p><strong>Durabilidade:</strong> Switches duram 50-100 milhões de cliques. Feedback tátil.</p>
        </div>
        <p>Switches físicos. Feedback tátil. Durabilidade.</p>
        <div class="conclusao">Melhor que membrana.</div>
    `,
    laptop_gaming_ultrabook: `
        <h3>Gaming ou ultrabook?</h3>
        <div class="explicacao">
            <p><strong>Uso:</strong> Gaming tem GPU dedicada. Ultrabook tem bateria e leveza.</p>
        </div>
        <p>Gaming = potência. Ultrabook = portabilidade.</p>
        <div class="conclusao">Gaming se joga. Ultrabook se trabalha.</div>
    `,
    macbook_windows: `
        <h3>MacBook ou Windows?</h3>
        <div class="explicacao">
            <p><strong>Ecossistema:</strong> Mac = design e bateria. Windows = jogos e compatibilidade.</p>
        </div>
        <table><tr><th></th><th>MacBook</th><th>Windows</th></tr>
        <tr><td>Design</td><td>Premium</td><td>Variado</td></tr>
        <tr><td>Jogos</td><td>Limita</td><td>Excelente</td></tr></table>
        <div class="conclusao">MacBook para criativos. Windows para jogos.</div>
    `,
    rgb_sincronizado: `
        <h3>RGB sincronizado?</h3>
        <div class="explicacao">
            <p><strong>Estética:</strong> iCUE, Aura Sync controlam luzes de todos os componentes.</p>
        </div>
        <p>iCUE, Aura Sync, etc. Estética unificada.</p>
        <div class="conclusao">Legal, mas não essencial.</div>
    `,
    upgrade_vale: `
        <h3>Upgrade vale?</h3>
        <div class="explicacao">
            <p><strong>Ganho real:</strong> CPU + RAM + SSD = maior impacto percebido.</p>
        </div>
        <p>CPU + RAM + SSD = maior ganho.</p>
        <div class="conclusao">Sim, sempre vale.</div>
    `,
    montar_comprar: `
        <h3>Montar ou comprar?</h3>
        <div class="explicacao">
            <p><strong>Custo x Praticidade:</strong> Montar economiza 30%. Comprar tem garantia unificada.</p>
        </div>
        <p>Montar = custo-benefício. Comprar = praticidade.</p>
        <div class="conclusao">Monte se souber.</div>
    `,
    garantia_perde: `
        <h3>Garantia perde?</h3>
        <div class="explicacao">
            <p><strong>Lei brasileira:</strong> Overclock, thermal paste e mods não anulam garantia se não danificar.</p>
        </div>
        <p>Overclock, modding e thermal paste NÃO anulam garantia (lei brasileira).</p>
        <div class="conclusao">Pode mexer com cuidado.</div>
    `,
    thermal_paste: `
        <h3>Thermal paste?</h3>
        <div class="explicacao">
            <p><strong>Condução térmica:</strong> Cola CPU ao cooler. Seca com o tempo.</p>
        </div>
        <p>Conduz calor entre CPU e cooler. Crucial.</p>
        <div class="conclusao">Troque a cada 2 anos.</div>
    `,
    pcie_4_5: `
        <h3>PCIe 4.0 ou 5.0?</h3>
        <div class="explicacao">
            <p><strong>Banda:</strong> PCIe 5.0 é 2x mais rápido, mas SSDs saturam em 4.0.</p>
        </div>
        <p>5.0 dobra banda, mas SSDs saturam em 4.0.</p>
        <div class="conclusao">4.0 suficiente até 2027.</div>
    `,
    vr_ready: `
        <h3>VR Ready?</h3>
        <div class="explicacao">
            <p><strong>Requisitos:</strong> GPU forte, 90 FPS constantes, tracking preciso.</p>
        </div>
        <p>RTX 3060+ e 16GB RAM. Alta taxa de quadros.</p>
        <div class="conclusao">Sim, com GPU boa.</div>
    `,
    mini_pc: `
        <h3>Mini PC?</h3>
        <div class="explicacao">
            <p><strong>Uso compacto:</strong> Intel NUC, Ryzen APUs. Ideal para HTPC, escritório, emulação.</p>
        </div>
        <p>Intel NUC, Ryzen APUs. Compacto e eficiente.</p>
        <div class="conclusao">Ótimo para HTPC e escritório.</div>
    `
};

/* ===== DEMAIS CÓDIGO (SUGESTÕES, BUSCA, etc.) ===== */
const SUGESTOES = [
    { text: "O que é overclock?", key: "overclock_def" },
    { text: "Intel ou AMD?", key: "intel_amd" },
    { text: "i5 ou Ryzen 5?", key: "i5_ryzen5" },
    { text: "Cache L3 importa?", key: "cache_l3" },
    { text: "NVIDIA ou AMD?", key: "nvidia_amd" },
    { text: "RTX ou RX?", key: "rtx_rx" },
    { text: "Ray Tracing vale?", key: "ray_tracing" },
    { text: "DDR4 ou DDR5?", key: "ddr4_ddr5" },
    { text: "16GB ou 32GB?", key: "ram_16_32" },
    { text: "Dual channel?", key: "dual_channel" },
    { text: "SSD ou HDD?", key: "ssd_hdd" },
    { text: "NVMe ou SATA?", key: "nvme_sata" },
    { text: "B550 ou Z790?", key: "b550_z790" },
    { text: "Mini-ITX ou ATX?", key: "mini_atx" },
    { text: "650W ou 850W?", key: "fonte_650_850" },
    { text: "80+ Gold vale?", key: "gold_vale" },
    { text: "Airflow ou RGB?", key: "airflow_rgb" },
    { text: "Water ou air?", key: "water_air" },
    { text: "Monitor 144Hz?", key: "monitor_144hz" },
    { text: "Teclado mecânico?", key: "teclado_mecanico" },
    { text: "Gaming ou ultrabook?", key: "laptop_gaming_ultrabook" },
    { text: "MacBook ou Windows?", key: "macbook_windows" },
    { text: "RGB sincronizado?", key: "rgb_sincronizado" },
    { text: "Upgrade vale?", key: "upgrade_vale" },
    { text: "Montar ou comprar?", key: "montar_comprar" },
    { text: "Garantia perde?", key: "garantia_perde" },
    { text: "Thermal paste?", key: "thermal_paste" },
    { text: "PCIe 4.0 ou 5.0?", key: "pcie_4_5" },
    { text: "VR Ready?", key: "vr_ready" },
    { text: "Mini PC?", key: "mini_pc" }
];

function normalizar(texto) {
    return texto.toLowerCase().replace(/[?.!]/g, '').replace(/\s+/g, ' ').trim();
}
const BUSCA = {};
SUGESTOES.forEach(s => {
    const norm = normalizar(s.text);
    BUSCA[norm] = s.key;
    if (norm.includes('ou')) {
        const partes = norm.split(' ou ');
        BUSCA[partes.join(' vs ')] = s.key;
        BUSCA[partes.reverse().join(' ou ')] = s.key;
    }
});

const grid = document.getElementById('suggestions');
SUGESTOES.forEach(s => {
    const btn = document.createElement('div');
    btn.className = 'suggestion';
    btn.textContent = s.text;
    btn.onclick = () => {
        document.getElementById('tipo').value = '';
        document.getElementById('pergunta').value = s.text;
        mostrarResposta(RESPOSTAS[s.key]);
    };
    grid.appendChild(btn);
});

document.getElementById('form').onsubmit = function(e) {
    e.preventDefault();
    const tipo = normalizar(document.getElementById('tipo').value);
    const pergunta = normalizar(document.getElementById('pergunta').value);
    const textoCompleto = normalizar(tipo + " " + pergunta);
    const textoPergunta = pergunta;

    if (OFENSAS.test(textoCompleto)) {
        mostrarAviso("LINGUAGEM INACEITÁVEL<br>Respeito é obrigatório. Reformule com educação.");
        return;
    }

    let chave = BUSCA[textoCompleto] || BUSCA[textoPergunta] || BUSCA[tipo];
    if (!chave && textoPergunta) {
        for (const [k, v] of Object.entries(BUSCA)) {
            if (textoPergunta.includes(k.split(' ')[0]) || k.includes(textoPergunta.split(' ')[0])) {
                chave = v;
                break;
            }
        }
    }

    const html = chave ? RESPOSTAS[chave] :
        `<p>Não entendi. Tente uma das perguntas rápidas ou reformule.</p><p><small>Ex: <strong>"Intel ou AMD?"</strong></small></p>`;

    mostrarResposta(html);
    setTimeout(() => document.getElementById('form').reset(), 500);
};

function mostrarResposta(html) {
    const loading = document.getElementById('loading');
    const resposta = document.getElementById('resposta');
    const aviso = document.getElementById('aviso');
    loading.style.display = 'block';
    resposta.style.display = 'none';
    aviso.style.display = 'none';
    setTimeout(() => {
        resposta.innerHTML = html;
        loading.style.display = 'none';
        resposta.style.display = 'block';
        resposta.scrollIntoView({ behavior: 'smooth' });
    }, 300);
}

function mostrarAviso(msg) {
    const aviso = document.getElementById('aviso');
    aviso.innerHTML = `<strong>${msg}</strong>`;
    aviso.style.display = 'block';
    document.getElementById('loading').style.display = 'none';
    document.getElementById('resposta').style.display = 'none';
}
</script>
</body>
</html>
